<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LeopardCameraTool: /home/danyu1/li_uvc_extension/includes/extend_cam_ctrl.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LeopardCameraTool
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_09e761304027c904456130627fd4dcf5.html">includes</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">extend_cam_ctrl.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="extend__cam__ctrl_8h__dep__incl.png" border="0" usemap="#_2home_2danyu1_2li__uvc__extension_2includes_2extend__cam__ctrl_8hdep" alt=""/></div>
<map name="_2home_2danyu1_2li__uvc__extension_2includes_2extend__cam__ctrl_8hdep" id="_2home_2danyu1_2li__uvc__extension_2includes_2extend__cam__ctrl_8hdep">
<area shape="rect" id="node2" href="extend__cam__ctrl_8cpp.html" title="/home/danyu1/li_uvc\l_extension/src/extend\l_cam_ctrl.cpp" alt="" coords="5,109,156,165"/>
</map>
</div>
</div>
<p><a href="extend__cam__ctrl_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbuffer.html">buffer</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9f8dee7f424b5e465ab508ce772eeca7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extend__cam__ctrl_8h.html#a9f8dee7f424b5e465ab508ce772eeca7">v4l2_core_save_data_to_file</a> (const char *filename, const void *data, int size)</td></tr>
<tr class="separator:a9f8dee7f424b5e465ab508ce772eeca7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50a3a06b576fe27a0b6cd9e6dbecaf2d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extend__cam__ctrl_8h.html#a50a3a06b576fe27a0b6cd9e6dbecaf2d">set_save_raw_flag</a> (int flag)</td></tr>
<tr class="separator:a50a3a06b576fe27a0b6cd9e6dbecaf2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8a597ffb852c529ab94ebfd1a3f7b11"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extend__cam__ctrl_8h.html#aa8a597ffb852c529ab94ebfd1a3f7b11">video_capture_save_raw</a> ()</td></tr>
<tr class="separator:aa8a597ffb852c529ab94ebfd1a3f7b11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cc0afc867478b4214772879d83c275a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extend__cam__ctrl_8h.html#a9cc0afc867478b4214772879d83c275a">set_save_bmp_flag</a> (int flag)</td></tr>
<tr class="separator:a9cc0afc867478b4214772879d83c275a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa79b36bab4495bc309ea9178d1e5c9b0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extend__cam__ctrl_8h.html#aa79b36bab4495bc309ea9178d1e5c9b0">video_capture_save_bmp</a> ()</td></tr>
<tr class="separator:aa79b36bab4495bc309ea9178d1e5c9b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a728dcffdafabbb1e5637f40c55e8ea75"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extend__cam__ctrl_8h.html#a728dcffdafabbb1e5637f40c55e8ea75">set_shift</a> (int *shift_flag)</td></tr>
<tr class="separator:a728dcffdafabbb1e5637f40c55e8ea75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d201921344dfb2e627891bf066ede5f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extend__cam__ctrl_8h.html#a8d201921344dfb2e627891bf066ede5f">change_datatype</a> (void *datatype)</td></tr>
<tr class="separator:a8d201921344dfb2e627891bf066ede5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a573ce38ff4c5019ab9a08182891707a3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extend__cam__ctrl_8h.html#a573ce38ff4c5019ab9a08182891707a3">add_bayer_forcv</a> (int *bayer_flag)</td></tr>
<tr class="separator:a573ce38ff4c5019ab9a08182891707a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98d368ac54369a43b9f756ace49dd7c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extend__cam__ctrl_8h.html#a98d368ac54369a43b9f756ace49dd7c9">change_bayerpattern</a> (void *bayer)</td></tr>
<tr class="separator:a98d368ac54369a43b9f756ace49dd7c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfd67be2d40fd7d9fb8756602758df13"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extend__cam__ctrl_8h.html#abfd67be2d40fd7d9fb8756602758df13">add_gamma_val</a> (float gamma_val_from_gui)</td></tr>
<tr class="separator:abfd67be2d40fd7d9fb8756602758df13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1396adb216fe4e3ed51e6e10a37ccbc6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extend__cam__ctrl_8h.html#a1396adb216fe4e3ed51e6e10a37ccbc6">add_black_level_correction</a> (int blc_val_from_gui)</td></tr>
<tr class="separator:a1396adb216fe4e3ed51e6e10a37ccbc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08bff4c11b0508907192e3e84b3eaa90"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extend__cam__ctrl_8h.html#a08bff4c11b0508907192e3e84b3eaa90">awb_enable</a> (int enable)</td></tr>
<tr class="separator:a08bff4c11b0508907192e3e84b3eaa90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f035966478fff5dd0507a9cae92d082"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extend__cam__ctrl_8h.html#a6f035966478fff5dd0507a9cae92d082">abc_enable</a> (int enable)</td></tr>
<tr class="separator:a6f035966478fff5dd0507a9cae92d082"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2835cbcd94827f289f4df765282e1da"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extend__cam__ctrl_8h.html#aa2835cbcd94827f289f4df765282e1da">open_v4l2_device</a> (char *device_name, struct <a class="el" href="structdevice.html">device</a> *dev)</td></tr>
<tr class="separator:aa2835cbcd94827f289f4df765282e1da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fbcba92f235b7aaf0f77297ce262acf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extend__cam__ctrl_8h.html#a4fbcba92f235b7aaf0f77297ce262acf">check_dev_cap</a> (struct <a class="el" href="structdevice.html">device</a> *dev)</td></tr>
<tr class="separator:a4fbcba92f235b7aaf0f77297ce262acf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae2f523d8ca40ab3b493574377e61430"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extend__cam__ctrl_8h.html#aae2f523d8ca40ab3b493574377e61430">mmap_variables</a> ()</td></tr>
<tr class="separator:aae2f523d8ca40ab3b493574377e61430"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a770456a3a86cb6b46981ee7263e49ed6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extend__cam__ctrl_8h.html#a770456a3a86cb6b46981ee7263e49ed6">unmap_variables</a> ()</td></tr>
<tr class="separator:a770456a3a86cb6b46981ee7263e49ed6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af64157521b052339f688426c4601d2c6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extend__cam__ctrl_8h.html#af64157521b052339f688426c4601d2c6">start_camera</a> (struct <a class="el" href="structdevice.html">device</a> *dev)</td></tr>
<tr class="separator:af64157521b052339f688426c4601d2c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad378c70896dcece5aaed55c5e45292f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extend__cam__ctrl_8h.html#ad378c70896dcece5aaed55c5e45292f9">stop_Camera</a> (struct <a class="el" href="structdevice.html">device</a> *dev)</td></tr>
<tr class="separator:ad378c70896dcece5aaed55c5e45292f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b12db4cfed352b814d8a84fcae1b1f5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extend__cam__ctrl_8h.html#a8b12db4cfed352b814d8a84fcae1b1f5">video_set_format</a> (struct <a class="el" href="structdevice.html">device</a> *dev, int width, int height, int pixelformat)</td></tr>
<tr class="separator:a8b12db4cfed352b814d8a84fcae1b1f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaa209faf9f82810143df68d26d60142"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extend__cam__ctrl_8h.html#aaaa209faf9f82810143df68d26d60142">video_get_format</a> (struct <a class="el" href="structdevice.html">device</a> *dev)</td></tr>
<tr class="separator:aaaa209faf9f82810143df68d26d60142"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2e3f56ccb65e599e6c9e0c6272f81a5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extend__cam__ctrl_8h.html#ac2e3f56ccb65e599e6c9e0c6272f81a5">streaming_loop</a> (struct <a class="el" href="structdevice.html">device</a> *dev)</td></tr>
<tr class="separator:ac2e3f56ccb65e599e6c9e0c6272f81a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd165475651ef3615b6a929aaef75266"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extend__cam__ctrl_8h.html#abd165475651ef3615b6a929aaef75266">get_a_frame</a> (struct <a class="el" href="structdevice.html">device</a> *dev)</td></tr>
<tr class="separator:abd165475651ef3615b6a929aaef75266"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c7c30a02e1a92b7a7bd367aa8fddec1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extend__cam__ctrl_8h.html#a2c7c30a02e1a92b7a7bd367aa8fddec1">perform_shift</a> (struct <a class="el" href="structdevice.html">device</a> *dev, const void *p, int shift)</td></tr>
<tr class="separator:a2c7c30a02e1a92b7a7bd367aa8fddec1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0986fe74ec0bab30967abac4e3ceddc1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extend__cam__ctrl_8h.html#a0986fe74ec0bab30967abac4e3ceddc1">decode_a_frame</a> (struct <a class="el" href="structdevice.html">device</a> *dev, const void *p, int shift)</td></tr>
<tr class="separator:a0986fe74ec0bab30967abac4e3ceddc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ec8fccc76356195d682fec60dc722b5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extend__cam__ctrl_8h.html#a2ec8fccc76356195d682fec60dc722b5">video_alloc_buffers</a> (struct <a class="el" href="structdevice.html">device</a> *dev, int nbufs)</td></tr>
<tr class="separator:a2ec8fccc76356195d682fec60dc722b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa0f77dfcf5d7eae400f25804f575d16"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extend__cam__ctrl_8h.html#aaa0f77dfcf5d7eae400f25804f575d16">video_free_buffers</a> (struct <a class="el" href="structdevice.html">device</a> *dev)</td></tr>
<tr class="separator:aaa0f77dfcf5d7eae400f25804f575d16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c8a786c34173168cfa8a50b90c65018"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="extend__cam__ctrl_8h.html#a6c8a786c34173168cfa8a50b90c65018">set_loop</a> (int exit)</td></tr>
<tr class="separator:a6c8a786c34173168cfa8a50b90c65018"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a6f035966478fff5dd0507a9cae92d082"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f035966478fff5dd0507a9cae92d082">&#9670;&nbsp;</a></span>abc_enable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void abc_enable </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>enable</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>set abc flag args: flag - set/reset the flag when get check button toggle </p>

</div>
</div>
<a id="a573ce38ff4c5019ab9a08182891707a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a573ce38ff4c5019ab9a08182891707a3">&#9670;&nbsp;</a></span>add_bayer_forcv()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int add_bayer_forcv </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>bayer_flag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>determine the sensor bayer pattern to correctly debayer the image CV_BayerBG2BGR =46 -&gt; bayer_flag_increment = 0 CV_BayerGB2BGR =47 -&gt; bayer_flag_increment = 1 CV_BayerRG2BGR =48 -&gt; bayer_flag_increment = 2 CV_BayerGR2BGR =49 -&gt; bayer_flag_increment = 3 default bayer pattern: RGGB args: bayer_flag - flag for determining bayer pattern returns: bayer pattern flag increment </p>

</div>
</div>
<a id="a1396adb216fe4e3ed51e6e10a37ccbc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1396adb216fe4e3ed51e6e10a37ccbc6">&#9670;&nbsp;</a></span>add_black_level_correction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void add_black_level_correction </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>blc_val_from_gui</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>callback for set black_level_correction for black level correction from gui </p>

</div>
</div>
<a id="abfd67be2d40fd7d9fb8756602758df13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfd67be2d40fd7d9fb8756602758df13">&#9670;&nbsp;</a></span>add_gamma_val()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void add_gamma_val </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>gamma_val_from_gui</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>callback for set gamma_val for gamma correction from gui </p>

</div>
</div>
<a id="a08bff4c11b0508907192e3e84b3eaa90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08bff4c11b0508907192e3e84b3eaa90">&#9670;&nbsp;</a></span>awb_enable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void awb_enable </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>enable</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>set awb flag args: flag - set/reset the flag when get check button toggle </p>

</div>
</div>
<a id="a98d368ac54369a43b9f756ace49dd7c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98d368ac54369a43b9f756ace49dd7c9">&#9670;&nbsp;</a></span>change_bayerpattern()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void change_bayerpattern </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>bayer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>callback for change sensor bayer pattern for debayering args: bayer - for updating *bayer_flag </p>

</div>
</div>
<a id="a8d201921344dfb2e627891bf066ede5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d201921344dfb2e627891bf066ede5f">&#9670;&nbsp;</a></span>change_datatype()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void change_datatype </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>datatype</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>callback for change sensor datatype shift flag args: datatype - RAW10 -&gt; set *shift_flag = 1 RAW12 -&gt; set *shift_flag = 2 YUV422 -&gt; set *shift_flag = 3 </p>

</div>
</div>
<a id="a4fbcba92f235b7aaf0f77297ce262acf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fbcba92f235b7aaf0f77297ce262acf">&#9670;&nbsp;</a></span>check_dev_cap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int check_dev_cap </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>retrive device's capabilities</p>
<p>args: struct device *dev - device infomation returns: error value </p>

</div>
</div>
<a id="a0986fe74ec0bab30967abac4e3ceddc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0986fe74ec0bab30967abac4e3ceddc1">&#9670;&nbsp;</a></span>decode_a_frame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void decode_a_frame </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>shift</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>opencv only support debayering 8 and 16 bits</p>
<p>decode the frame, move each pixel by certain bits, and mask it for 8 bits, render a frame using opencv args: struct device *dev - every infomation for camera const void *p - pointer for the buffer int shift - values to shift(RAW10 - 2, RAW12 - 4, YUV422 - 0) </p>
<p>&mdash; for raw10, raw12 bayer camera &mdash;</p>
<p>&mdash; for yuv camera &mdash;</p>
<p>&mdash; for raw8 camera (tightly packed) &mdash;</p>
<p>check for save capture bmp flag, after decode the image</p>
<p>if image larger than 720p by any dimension, resize the window</p>
<p>getTickcount: return number of ticks from OS getTickFrequency: returns the number of ticks per second t = ((double)getTickCount() - t)/getTickFrequency(); fps is t's reciprocal</p>

</div>
</div>
<a id="abd165475651ef3615b6a929aaef75266"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd165475651ef3615b6a929aaef75266">&#9670;&nbsp;</a></span>get_a_frame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void get_a_frame </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Typically start two loops:</p><ol type="1">
<li>runs for as long as you want to capture frames (shoot the video).</li>
<li>iterates over your buffers everytime.</li>
</ol>
<p>args: struct device *dev - every infomation for camera </p>
<p>The buffer's waiting in the outgoing queue.</p>
<p>check the capture raw image flag, do this before decode a frame </p>

</div>
</div>
<a id="aae2f523d8ca40ab3b493574377e61430"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae2f523d8ca40ab3b493574377e61430">&#9670;&nbsp;</a></span>mmap_variables()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mmap_variables </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>mmap the variables for processes share </p>

</div>
</div>
<a id="aa2835cbcd94827f289f4df765282e1da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2835cbcd94827f289f4df765282e1da">&#9670;&nbsp;</a></span>open_v4l2_device()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int open_v4l2_device </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>device_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>open the /dev/video* uvc camera device</p>
<p>args: device_name struct device *dev for adding fd returns: file descriptor v4l2_dev </p>

</div>
</div>
<a id="a2c7c30a02e1a92b7a7bd367aa8fddec1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c7c30a02e1a92b7a7bd367aa8fddec1">&#9670;&nbsp;</a></span>perform_shift()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void perform_shift </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>shift</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>shift bits for 16-bit stream and get lower 8-bit for opencv debayering </p>
<p>use openmp loop parallelism to accelerate shifting</p>
<p>If there is no speed up, that is because this operation is heavily memory bound. All the cores share one memory bus, so using more threads does not give you more bandwidth and speedup. This will change if the resolution is smaller so buffer size is smaller </p>

</div>
</div>
<a id="a6c8a786c34173168cfa8a50b90c65018"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c8a786c34173168cfa8a50b90c65018">&#9670;&nbsp;</a></span>set_loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_loop </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>exit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>put product name into captured image name callback for exit streaming from gui </p>

</div>
</div>
<a id="a9cc0afc867478b4214772879d83c275a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cc0afc867478b4214772879d83c275a">&#9670;&nbsp;</a></span>set_save_bmp_flag()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void set_save_bmp_flag </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>set save raw image flag args: flag - set the flag when get capture button clicked, reset flag to zero once image is saved </p>

</div>
</div>
<a id="a50a3a06b576fe27a0b6cd9e6dbecaf2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50a3a06b576fe27a0b6cd9e6dbecaf2d">&#9670;&nbsp;</a></span>set_save_raw_flag()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void set_save_raw_flag </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>set save raw image flag args: flag - set the flag when get capture button clicked, reset flag to zero once image is saved </p>

</div>
</div>
<a id="a728dcffdafabbb1e5637f40c55e8ea75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a728dcffdafabbb1e5637f40c55e8ea75">&#9670;&nbsp;</a></span>set_shift()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int set_shift </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>shift_flag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>return the shift value for choosing sensor datatype RAW10 - shift 2 bits RAW12 - shift 4 bits YUV422 - shift 0 bit RAW8 - shift 0 bit - tightly packed 8-bit in fpga Crosslink doesn't support decode RAW14, RAW16 so far, these two datatypes weren't used in USB3 camera </p>

</div>
</div>
<a id="af64157521b052339f688426c4601d2c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af64157521b052339f688426c4601d2c6">&#9670;&nbsp;</a></span>start_camera()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void start_camera </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>activate streaming</p>
<p>args: struct device *dev - device infomation </p>

</div>
</div>
<a id="ad378c70896dcece5aaed55c5e45292f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad378c70896dcece5aaed55c5e45292f9">&#9670;&nbsp;</a></span>stop_Camera()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stop_Camera </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>deactivate streaming</p>
<p>args: struct device *dev - device infomation </p>

</div>
</div>
<a id="ac2e3f56ccb65e599e6c9e0c6272f81a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2e3f56ccb65e599e6c9e0c6272f81a5">&#9670;&nbsp;</a></span>streaming_loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void streaming_loop </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>To get frames in few steps</p><ol type="1">
<li>prepare information about the buffer you are queueing (done in video_allocate_buffers)</li>
<li>activate the device streaming capability</li>
<li>queue the buffer, handling your buffer over to the device, put it into the incoming queue, wait for it to write stuff in</li>
<li>decode the frame</li>
<li>dequeue the buffer, the device is done, you may read the buffer</li>
<li>put 3-5 in a for loop</li>
</ol>
<p>args: struct device *dev - every infomation for camera </p>

</div>
</div>
<a id="a770456a3a86cb6b46981ee7263e49ed6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a770456a3a86cb6b46981ee7263e49ed6">&#9670;&nbsp;</a></span>unmap_variables()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unmap_variables </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>unmap all the variables after stream ends </p>

</div>
</div>
<a id="a9f8dee7f424b5e465ab508ce772eeca7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f8dee7f424b5e465ab508ce772eeca7">&#9670;&nbsp;</a></span>v4l2_core_save_data_to_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int v4l2_core_save_data_to_file </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>save data to file args: filename - string with filename data - pointer to data size - data size in bytes = sizeof(uint8_t)</p>
<p>asserts: none</p>
<p>returns: error code </p>
<p>write error</p>
<p>flush data stream to file system </p>

</div>
</div>
<a id="a2ec8fccc76356195d682fec60dc722b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ec8fccc76356195d682fec60dc722b5">&#9670;&nbsp;</a></span>video_alloc_buffers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int video_alloc_buffers </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nbufs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>request, allocate and map buffers</p>
<p>args: struct device *dev - put buffers in nbufs - number of buffer request, map returns: errno </p>
<p>request buffer</p>
<p>allocate buffer</p>
<p>map the buffers</p>
<p>remember for munmap() </p><pre class="fragment">If you do not exit here you should unmap() and free()
</pre><p> the buffers mapped so far.</p>
<p>Queueing buffer index i.</p>
<p>Put the buffer in the incoming queue. </p>

</div>
</div>
<a id="aa79b36bab4495bc309ea9178d1e5c9b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa79b36bab4495bc309ea9178d1e5c9b0">&#9670;&nbsp;</a></span>video_capture_save_bmp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void video_capture_save_bmp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>callback for save bmp image from gui </p>

</div>
</div>
<a id="aa8a597ffb852c529ab94ebfd1a3f7b11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8a597ffb852c529ab94ebfd1a3f7b11">&#9670;&nbsp;</a></span>video_capture_save_raw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void video_capture_save_raw </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>callback for save raw image from gui </p>

</div>
</div>
<a id="aaa0f77dfcf5d7eae400f25804f575d16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa0f77dfcf5d7eae400f25804f575d16">&#9670;&nbsp;</a></span>video_free_buffers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int video_free_buffers </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>free, unmap buffers</p>
<p>args: struct device *dev - put buffers in returns: errno </p>

</div>
</div>
<a id="aaaa209faf9f82810143df68d26d60142"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaaa209faf9f82810143df68d26d60142">&#9670;&nbsp;</a></span>video_get_format()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void video_get_format </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>video get format - Leopard camera format is YUYV run this to get the resolution args: struct device *dev - device infomation </p>

</div>
</div>
<a id="a8b12db4cfed352b814d8a84fcae1b1f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b12db4cfed352b814d8a84fcae1b1f5">&#9670;&nbsp;</a></span>video_set_format()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void video_set_format </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structdevice.html">device</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pixelformat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>video set format - Leopard camera format is YUYV need to do a v4l2-ctl &ndash;list-formats-ext to see the resolution args: struct device *dev - device infomation width - resolution width height - resolution height pixelformat - V4L2_PIX_FMT_YUYV </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
