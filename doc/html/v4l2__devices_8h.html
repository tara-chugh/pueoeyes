<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LeopardCameraTool: /home/danyu1/li_uvc_extension/includes/v4l2_devices.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LeopardCameraTool
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_09e761304027c904456130627fd4dcf5.html">includes</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">v4l2_devices.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;libudev.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for v4l2_devices.h:</div>
<div class="dyncontent">
<div class="center"><img src="v4l2__devices_8h__incl.png" border="0" usemap="#_2home_2danyu1_2li__uvc__extension_2includes_2v4l2__devices_8h" alt=""/></div>
<map name="_2home_2danyu1_2li__uvc__extension_2includes_2v4l2__devices_8h" id="_2home_2danyu1_2li__uvc__extension_2includes_2v4l2__devices_8h">
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="v4l2__devices_8h__dep__incl.png" border="0" usemap="#_2home_2danyu1_2li__uvc__extension_2includes_2v4l2__devices_8hdep" alt=""/></div>
<map name="_2home_2danyu1_2li__uvc__extension_2includes_2v4l2__devices_8hdep" id="_2home_2danyu1_2li__uvc__extension_2includes_2v4l2__devices_8hdep">
<area shape="rect" id="node2" href="v4l2__devices_8cpp.html" title="/home/danyu1/li_uvc\l_extension/src/v4l2\l_devices.cpp" alt="" coords="5,109,148,165"/>
</map>
</div>
</div>
<p><a href="v4l2__devices_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9eba2e9c5ee359f45c418b94d6ef9a60"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="v4l2__devices_8h.html#a9eba2e9c5ee359f45c418b94d6ef9a60">get_manufacturer_name</a> ()</td></tr>
<tr class="separator:a9eba2e9c5ee359f45c418b94d6ef9a60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bd3403abe7bd1cce57491666fccc095"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="v4l2__devices_8h.html#a7bd3403abe7bd1cce57491666fccc095">get_product</a> ()</td></tr>
<tr class="separator:a7bd3403abe7bd1cce57491666fccc095"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e887307eb4bb4737ee53a24c3bdef4b"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="v4l2__devices_8h.html#a3e887307eb4bb4737ee53a24c3bdef4b">get_serial</a> ()</td></tr>
<tr class="separator:a3e887307eb4bb4737ee53a24c3bdef4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a390b8f60cae265001125f336455f381b"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="v4l2__devices_8h.html#a390b8f60cae265001125f336455f381b">enum_v4l2_device</a> (char *dev_name)</td></tr>
<tr class="separator:a390b8f60cae265001125f336455f381b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a390b8f60cae265001125f336455f381b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a390b8f60cae265001125f336455f381b">&#9670;&nbsp;</a></span>enum_v4l2_device()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* enum_v4l2_device </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>dev_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create the udev object</p>
<p>Create a list of the devices in the 'v4l2' subsystem.</p>
<p>For each item enumerated, print out its information. udev_list_entry_foreach is a macro which expands to a loop. The loop will be executed for each member in devices, setting dev_list_entry to a list entry which contains the device's path in /sys.</p>
<p>Get the filename of the /sys entry for the device and create a udev_device object (dev) representing it</p>
<p>usb_device_get_devnode() returns the path to the device node itself in /dev.</p>
<p>The device pointed to by dev contains information about the hidraw device. In order to get information about the USB device, get the parent device with the subsystem/devtype pair of "usb"/"usb_device". This will be several levels up the tree, but the function will find it.</p>
<p>2a0b is leopard manufacurer id, use udev to update video device id</p>
<p>From here, we can call get_sysattr_value() for each file in the device's /sys entry. The strings passed into these functions (idProduct, idVendor, serial, etc.) correspond directly to the files in the directory which represents the USB device. Note that USB strings are Unicode, UCS2 encoded, but the strings returned from udev_device_get_sysattr_value() are UTF-8 encoded.</p>
<p>Add serial number in usb descriptor will need to request a firmware updates, values will get from FX3 and sensor fuse id</p>
<p>Free the enumerator object </p>

</div>
</div>
<a id="a9eba2e9c5ee359f45c418b94d6ef9a60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9eba2e9c5ee359f45c418b94d6ef9a60">&#9670;&nbsp;</a></span>get_manufacturer_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* get_manufacturer_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7bd3403abe7bd1cce57491666fccc095"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bd3403abe7bd1cce57491666fccc095">&#9670;&nbsp;</a></span>get_product()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* get_product </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>queuebuffer query for enqueue, dequeue buffers </p>

</div>
</div>
<a id="a3e887307eb4bb4737ee53a24c3bdef4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e887307eb4bb4737ee53a24c3bdef4b">&#9670;&nbsp;</a></span>get_serial()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* get_serial </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
